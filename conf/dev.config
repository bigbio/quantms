/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Nextflow config file for running with nightly dev. containers (mainly for OpenMS)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Only overwrites the used containers and conda packages. E.g., uses the OpenMS nightly
    executable and thirdparty containers.

    Use as follows:
        nextflow run bigbio/quantms -profile dev,<docker/singularity> [--outdir <OUTDIR>]

-------------------------------------------------------------------------------------------
*/

params {
    config_profile_name = 'Development profile'
    config_profile_description = 'To use nightly development containers'
}

process {
    withLabel: openms {
        conda = "bioconda::openms-thirdparty=3.3.0" // The conda package is not the nightly version
        container = {"${ ( workflow.containerEngine == 'singularity' || workflow.containerEngine == 'apptainer' ) && !task.ext.singularity_pull_docker_container ? 'oras://ghcr.io/openms/openms-tools-thirdparty-sif:latest' : 'ghcr.io/openms/openms-tools-thirdparty:latest' }"}
    }
    withName: 'MS2RESCORE' {
        container = {"${ ( workflow.containerEngine == 'singularity' || workflow.containerEngine == 'apptainer' ) && !task.ext.singularity_pull_docker_container ? 'oras://community.wave.seqera.io/library/quantms-rescoring:0.0.6--c57266e6c9f27985' : 'community.wave.seqera.io/library/quantms-rescoring:0.0.6--2ab4d0ac2f872759' }"}
    }
}
